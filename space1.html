<html>

  <head>
    <title>Steven Yi - Sacred Spaces - Space No. 1</title>

    <link href="https://fonts.googleapis.com/css?family=Raleway|Roboto:400,700" rel="stylesheet">
    <link href="sacred-spaces.css" rel="stylesheet">
  </head>
  <body>

    <header>
      <h1>Space No. 1</h1>
      Author: <a href="http://kunstmusik.com">Steven Yi</a>
    </header>

    <main>
    <section class="centered">
      <p><button id="startButton" disabled>Loading Music...</button></p>
    </section>
    </main>

    <footer>
      <small>Copyright &copy; <a href="http://kunstmusik.com">Steven Yi</a> 2018. All rights reserved.</small>
    </footer>
 
  <script src="csound/CsoundObj.js"></script>
  <script src="space_no1.orc" type="text/csound-orc"></script>
  <script>

    // Setup Csound and load piece

    CsoundObj.importScripts("./csound/").then(() => {
      fetch("space_no1.orc").then((response) => {
        response.text().then((orc) => {

          let startButton = document.getElementById("startButton");

          startButton.innerText = "Press to Start";
          startButton.disabled = false;
          startButton.onclick = function() {

            let cs = new CsoundObj();
            cs.setOption("-m0")
            cs.compileOrc(orc);
            cs.start();

            startButton.innerText = "Listening Now...";
            startButton.disabled = true;
          }


        })
      })
    });

  </script>
  </body>
</html>
